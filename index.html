<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <title>Guilda do Poker</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    :root{
      --bg:#121212;
      --bg-2:#1c1c1c;
      --bg-3:#2c2c2c;
      --gold:#ffcc00;
      --text:#f5f5f5;
    }

    *{box-sizing:border-box;margin:0;padding:0}

    body{
      font-family: Arial, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      line-height: 1.6;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* ===== CABEÇALHO SUPERIOR (MENU HAMBURGUER) ===== */
    .top-header {
      background: var(--bg-2);
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      border-bottom: 2px solid var(--gold);
    }
    
    .logo-mobile {
      max-width: 100px;
      height: auto;
      display: none;
    }
    
    /* ===== BOTÃO HAMBÚRGUER ===== */
    .hamburger {
      display: none;
      flex-direction: column;
      justify-content: space-around;
      width: 42px;
      height: 36px;
      background: transparent;
      border: none;
      cursor: pointer;
      padding: 0;
      z-index: 1001;
    }

    .hamburger span {
      width: 100%;
      height: 4px;
      background-color: var(--gold);
      border-radius: 3px;
      transition: all 0.3s linear;
    }

    .hamburger.active span:nth-child(1) {
      transform: rotate(45deg) translate(8px, 8px);
    }

    .hamburger.active span:nth-child(2) {
      opacity: 0;
    }

    .hamburger.active span:nth-child(3) {
      transform: rotate(-45deg) translate(7px, -7px);
    }

    /* ===== CABEÇALHO PRINCIPAL ===== */
    .main-header {
      background: var(--bg-2);
      padding: 15px 20px;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    
    .logo-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 20px;
    }
    
    .logo-container img { 
      max-width: 180px;
      height: auto; 
    }

    /* ===== BOTÕES DE AUTENTICAÇÃO ===== */
    .auth-buttons {
      display: flex;
      gap: 15px;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .auth-btn {
      padding: 10px 20px;
      border-radius: 5px;
      font-weight: bold;
      text-decoration: none;
      font-size: 1rem;
      transition: all 0.3s ease;
      white-space: nowrap;
      cursor: pointer;
      border: 1px solid transparent;
    }
    
    .login-btn {
      background-color: #000;
      color: var(--gold);
      border: 1px solid var(--gold);
    }
    
    .login-btn:hover {
      background-color: rgba(255, 204, 0, 0.1);
    }
    
    .signup-btn {
      background-color: var(--gold);
      color: #000;
      border: 1px solid var(--gold);
    }
    
    .signup-btn:hover {
      background-color: #e6b800;
      border-color: #e6b800;
    }
    
    .profile-btn, .logout-btn {
      background-color: transparent;
      color: var(--gold);
      border: 1px solid var(--gold);
      display: none;
    }
    
    .profile-btn:hover, .logout-btn:hover {
      background-color: rgba(255, 204, 0, 0.1);
    }

    /* ===== ÁREA DO USUÁRIO LOGADO ===== */
    .user-area {
      display: none;
      flex-direction: column;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .avatar-container {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      overflow: hidden;
      border: 3px solid var(--gold);
      margin-bottom: 10px;
    }
    
    .avatar-container img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .user-greeting {
      color: var(--gold);
      font-size: 1.1rem;
      text-align: center;
      font-weight: bold;
    }
    
    .user-buttons {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }

    /* ===== MENU DE NAVEGAÇÃO ===== */
    nav {
      background: var(--bg-3);
      padding: 15px 0;
      position: relative;
      width: 100%;
    }

    .menu-container {
      display: flex;
      justify-content: center;
      align-items: center;
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .menu {
      display: flex;
      list-style: none;
      margin: 0;
      padding: 0;
      width: 100%;
      justify-content: center;
    }

    .menu li {
      margin: 0;
    }

    .menu a {
      color: var(--gold);
      padding: 14px 22px;
      text-decoration: none;
      font-weight: bold;
      transition: .2s;
      display: block;
      text-align: center;
      font-size: 1.05rem;
    }

    .menu a:hover, .menu a.active { 
      color: #ffffff; 
      text-decoration: underline;
      background-color: rgba(255, 204, 0, 0.15);
      border-radius: 6px;
    }

    /* ===== BANNER DE TOPO ===== */
    .banner-topo {
      width: 100%;
      background-color: #2a2a2a;
      padding: 15px;
      text-align: center;
      border-bottom: 1px solid var(--gold);
    }
    
    .ad-placeholder {
      background-color: #2a2a2a;
      border: 2px dashed #666;
      border-radius: 8px;
      color: #999;
      text-align: center;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto;
      box-sizing: border-box;
    }
    
    .ad-topo {
      width: 728px;
      height: 90px;
      margin: 0 auto;
    }
    
    .ad-lateral {
      width: 300px;
      height: 600px;
      margin-left: 20px;
    }
    
    .ad-placeholder p {
      margin: 0;
      font-size: 14px;
    }

    .conteudo-principal {
      display: flex;
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
      width: 100%;
      flex: 1;
    }
    
    .conteudo {
      flex: 1;
    }

    section{
      padding: 30px 0;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 20px;
      flex-wrap: wrap;
      width: 100%;
    }

    section .texto{
      flex: 1;
      min-width: 300px;
      text-align: center;
    }
    
    .page-title {
      color: var(--gold);
      margin: 10px 0 20px;
      font-size: 2.2em;
      text-align: center;
    }
    
    section .texto p{
      color:#e6e6e6;
      font-size: 1.1em;
      text-align: justify;
      margin-bottom: 20px;
    }

    .highlight{
      color: var(--gold);
      font-weight: bold;
    }

    section .imagem img{
      max-width: 500px;
      width: 100%;
      border-radius: 12px;
      border: 3px solid var(--gold);
      box-shadow:0 4px 12px rgba(0,0,0,.6);
    }

    /* Barra lateral para banner */
    .sidebar {
      width: 340px;
      padding: 10px;
      flex-shrink: 0;
    }

    /* Seção Sobre Nós */
    .sobre-nos {
      background-color: var(--bg-2);
      padding: 60px 20px;
      margin: 40px 0;
      border-top: 2px solid var(--gold);
      border-bottom: 2px solid var(--gold);
    }
    
    .sobre-nos h2 {
      color: var(--gold);
      text-align: center;
      font-size: 2.2em;
      margin-bottom: 30px;
    }
    
    .sobre-nos p {
      color: #e6e6e6;
      font-size: 1.1em;
      line-height: 1.8;
      text-align: justify;
      max-width: 900px;
      margin: 0 auto 20px;
    }
    
    .sobre-nos .assinatura {
      text-align: right;
      margin-top: 30px;
      font-style: italic;
      color: var(--gold);
    }

    footer{
      background: var(--bg-2);
      text-align: center;
      padding: 15px;
      margin-top: 40px;
      border-top: 2px solid var(--gold);
      font-size: 14px;
      color:#bbb;
    }

    .aviso18{
      margin-top: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }
    
    .icone18{
      background: red;
      color: white;
      font-weight: bold;
      padding: 4px 8px;
      border-radius: 6px;
      font-size: 13px;
    }

    /* ===== RESPONSIVIDADE ===== */
    @media (max-width: 992px) {
      .menu a {
        padding: 12px 18px;
        font-size: 1rem;
      }
      
      .auth-btn {
        padding: 9px 18px;
        font-size: 0.95rem;
      }
    }

    @media (max-width: 768px) {
      .top-header {
        display: flex;
        padding: 8px 15px;
      }
      
      .logo-mobile {
        display: block;
        max-width: 80px;
      }
      
      .hamburger {
        display: flex;
        width: 36px;
        height: 30px;
      }

      .hamburger span {
        height: 3px;
      }
      
      .main-header {
        padding: 15px;
      }
      
      .logo-container {
        display: none;
      }
      
      .auth-buttons, .user-area {
        flex-direction: column;
        width: 100%;
        gap: 10px;
      }
      
      .auth-btn {
        width: 100%;
        text-align: center;
        padding: 12px;
      }
      
      .user-buttons {
        width: 100%;
        flex-direction: column;
      }
      
      .user-buttons .auth-btn {
        width: 100%;
      }

      .menu {
        flex-direction: column;
        width: 100%;
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        background-color: var(--bg-3);
        z-index: 1000;
        box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        padding: 15px 0;
        border-top: 2px solid var(--gold);
      }

      .menu.active {
        display: flex;
      }

      .menu li {
        width: 100%;
        text-align: center;
      }

      .menu a {
        padding: 16px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        font-size: 1.1rem;
      }
      
      .menu a:last-child {
        border-bottom: none;
      }
      
      .menu-container {
        padding: 0;
      }
      
      .conteudo-principal {
        flex-direction: column;
      }
      
      .sidebar {
        width: 100%;
        order: 3;
        margin-top: 30px;
        display: flex;
        justify-content: center;
      }
      
      .ad-lateral {
        margin-left: 0;
        height: 250px;
        width: 100%;
        max-width: 728px;
      }
      
      section{
        flex-direction: column-reverse;
        align-items: center;
        text-align: center;
      }
      
      section .texto, section .imagem{
        width: 100%;
      }
      
      .aviso18{ 
        flex-direction: column; 
        text-align:center; 
      }
      
      .sobre-nos p {
        width: 95%;
      }
      
      .ad-topo {
        width: 100%;
        height: auto;
        min-height: 90px;
      }
      
      .page-title {
        font-size: 1.8em;
      }
      
      .avatar-container {
        width: 70px;
        height: 70px;
      }
    }

    @media (max-width: 480px) {
      .top-header {
        padding: 6px 12px;
      }
      
      .logo-mobile {
        max-width: 70px;
      }
      
      .hamburger {
        width: 32px;
        height: 28px;
      }
      
      .auth-btn {
        padding: 10px;
        font-size: 0.9rem;
      }
      
      .avatar-container {
        width: 60px;
        height: 60px;
      }
      
      .user-greeting {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>

  <!-- Cabeçalho Superior (Menu Hamburguer) -->
  <div class="top-header">
    <img src="logoguilda.jpeg" alt="Logo Guilda do Poker" class="logo-mobile">
    <button class="hamburger" aria-label="Abrir menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>

  <!-- Cabeçalho Principal -->
  <div class="main-header">
    <div class="logo-container">
      <img src="logoguilda.jpeg" alt="Logo Guilda do Poker">
    </div>
    
    <!-- Área de Autenticação (usuário não logado) -->
    <div class="auth-buttons" id="auth-buttons">
      <a href="login.html" class="auth-btn login-btn" id="login-button">Login</a>
      <a href="cadastro.html" class="auth-btn signup-btn" id="signup-button">Cadastre-se</a>
    </div>
    
    <!-- Área do Usuário (usuário logado) -->
    <div class="user-area" id="user-area">
      <div class="avatar-container">
        <img src="default-avatar.png" alt="Avatar" id="user-avatar">
      </div>
      <span class="user-greeting" id="user-greeting"></span>
      <div class="user-buttons">
        <a href="perfil.html" class="auth-btn profile-btn" id="profile-button">Meu Perfil</a>
        <button class="auth-btn logout-btn" id="logout-button" onclick="logout()">Sair</button>
      </div>
    </div>
  </div>

  <!-- Navegação -->
  <nav>
    <div class="menu-container">
      <ul class="menu">
        <li><a href="index.html" class="active">Home</a></li>
        <li><a href="pppoker.html">PPPoker</a></li>
        <li><a href="suprema.html">Suprema Poker</a></li>
        <li><a href="torneios.html">Torneios</a></li>
        <li><a href="regrasdopoker.html">Regras do Poker</a></li>
        <li><a href="divulgacao.html">Divulgação</a></li>
        <li><a href="blog.html">Blog</a></li>
        <li><a href="dicionario.html">Dicionário</a></li>
        <li><a href="contato.html">Contato</a></li>
      </ul>
    </div>
  </nav>

  <!-- Banner de Topo -->
  <div class="banner-topo">
    <div class="ad-placeholder ad-topo">
      <p>Espaço reservado para banner (728x90)</p>
    </div>
  </div>

  <div class="conteudo-principal">
    <div class="conteudo">
      <!-- Seção principal -->
      <section>
        <div class="texto">
          <h1 class="page-title">Bem-vindo à Guilda do Poker</h1>
          <p>
            A Guilda do Poker é um espaço para jogadores apaixonados por estratégia, diversão e competição. 
            Aqui você encontra torneios, cash games e parceiros confiáveis.
            <br><br>
            🎲 <span class="highlight">ID da Guilda do Poker no PPPoker</span>: <strong>4583211</strong><br>
            🎲 <span class="highlight">Agente no Suprema Poker</span><br>
            ID do Clube: <strong>29446</strong><br>
            ID do Agente: <strong>1422946</strong><br><br><br>
          </p>
        </div>

        <div class="imagem">
          <img src="mulhercroupier1.jpg" alt="Croupier do Poker">
        </div>
      </section>

      <!-- Seção Sobre Nós -->
      <div class="sobre-nos">
        <h2>Sobre Nós</h2>
        <p>
         A Guilda do Poker foi criada dengan tujuan reunir jogadores em uma comunidade acolhedora, aberta tanto a iniciantes quanto a experientes. 
         Nosso propósito adalah proporcionar uma experiência completa, com torneios acessíveis e mesas de cash games bem estruturadas, garantindo um ambiente que une diversão e competitividade de forma equilibrada.
        <p>
          Estamos em constante crescimento và evolução, sempre buscando atrair novos jogadores e consolidar parcerias que fortaleçam 
          nossa comunidade. Um dos nossos principais objetivos adalah introduzir formatos inovadores de torneios, trazendo variedade e 
          dinamismo para nossas mesas, mantendo sempre a acessibilidade e o equilibrio competitivo.
        </p>
        <p>
          Nosso trabalho adalah guiado por valores fundamentais: a responsabilidade no jogo, a diversão sebagai elemento central, 
          a competitividade saudável e o respeito entre todos os membros. Acreditamos que o poker vai além das cartas e fichas - 
          é uma experiência social que une pessoas em torno da estratégia, do raciocínio rápido e da emoção do jogo.
        </p>
        <p>
          Meu nome adalah Bruno Macedo, e tenho sebagai missão pessoal fortalecer cada vez mais nossa comunidade, criando laços duradouros 
          entre jogadores e estabelecendo a Guilda do Poker como referência em ambientes virtuais de poker. Estou comprometido em 
          evoluir nosso clube continuamente, ouvindo sugestões e implementando melhorias que elevem a experiência de jogo para todos.
        </p>
        <p>
          Junte-se a nós nessa jornada e faça parte de uma comunidade que valoriza cada jogador, onde sua presença contribui untuk 
          tornar nosso clube ainda mais especial e acolhedor.
        </p>
        <p class="assinatura">Bruno Macedo<br>Fundador da Guilda do Poker</p>
      </div>
    </div>
    
    <!-- Banner Lateral -->
    <div class="sidebar">
      <div class="ad-placeholder ad-lateral">
        <p>Espaço reservado para banner (300x600)</p>
      </div>
    </div>
  </div>

  <!-- Rodapé -->
  <footer>
    <p>© 2025 Guilda do Poker - Todos os direitos reservados</p>
    <div class="aviso18">
      <span class="icone18">18+</span>
      <p>Proibido para menores de 18 anos. Jogue com responsabilidade.</p>
    </div>
    <div style="margin-top: 15px; display: flex; justify-content: center; gap: 20px; flex-wrap: wrap;">
      <a href="politica.html" style="color: #bbb; text-decoration: underline;">Política de Privacidade</a>
      <a href="termos.html" style="color: #bbb; text-decoration: underline;">Termos e Condições</a>
    </div>
  </footer>

  <!-- Script do menu mobile -->
  <script>
    // Menu hamburger
    const hamburger = document.querySelector('.hamburger');
    const menu = document.querySelector('.menu');
    
    hamburger.addEventListener('click', () => {
      hamburger.classList.toggle('active');
      menu.classList.toggle('active');
    });
    
    // Fechar menu ao clicar em um link (mobile)
    const menuLinks = document.querySelectorAll('.menu a');
    menuLinks.forEach(link => {
      link.addEventListener('click', () => {
        if (window.innerWidth <= 768) {
          hamburger.classList.remove('active');
          menu.classList.remove('active');
        }
      });
    });
  </script>

<script>
// Configuração do Supabase
const SUPABASE_URL = 'https://ffyectkjlwgqzjgwhexy.supabase.co';
const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZmeWVjdGtqbHdncXpqZ3doZXh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzMTAxNDAsImV4cCI6MjA3MTg4NjE0MH0.bWxnDQaJ6wILzK09TZ9B9ZdUdqVS7bukabBwZDmyvrE';

const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY, {
    auth: {
        persistSession: true,
        autoRefreshToken: true
    }
});

// Verificar se usuário está logado ao carregar a página
document.addEventListener('DOMContentLoaded', async function() {
    const { data: { session } } = await supabase.auth.getSession();
    
    if (session) {
        // Buscar dados do perfil para pegar o apelido e avatar
        const userData = await getUserData(session.user.id);
        updateUIForLoggedInUser(session.user, userData.apelido, userData.avatar);
    } else {
        updateUIForLoggedOutUser();
    }
});

// Buscar dados do usuário (apelido e avatar)
async function getUserData(userId) {
    try {
        const { data, error } = await supabase
            .from('perfis')
            .select('apelido_poker, avatar_url')
            .eq('id', userId)
            .single();

        if (error || !data) {
            console.log('Dados não encontrados, usando valores padrão');
            return { apelido: null, avatar: 'default-avatar.png' };
        }

        return { 
            apelido: data.apelido_poker, 
            avatar: data.avatar_url || 'default-avatar.png' 
        };
    } catch (error) {
        console.error('Erro ao buscar dados do usuário:', error);
        return { apelido: null, avatar: 'default-avatar.png' };
    }
}

// Atualizar UI para usuário logado
function updateUIForLoggedInUser(user, apelido, avatarUrl) {
    // Esconder botões de login/cadastro
    document.getElementById('auth-buttons').style.display = 'none';
    
    // Mostrar área do usuário
    document.getElementById('user-area').style.display = 'flex';
    
    // Atualizar avatar
    document.getElementById('user-avatar').src = avatarUrl;
    
    // Atualizar saudação com apelido ou email
    const userGreeting = document.getElementById('user-greeting');
    if (apelido) {
        userGreeting.textContent = apelido;
    } else {
        userGreeting.textContent = user.email;
    }
}

// Atualizar UI para usuário não logado
function updateUIForLoggedOutUser() {
    // Mostrar botões de login/cadastro
    document.getElementById('auth-buttons').style.display = 'flex';
    
    // Esconder área do usuário
    document.getElementById('user-area').style.display = 'none';
}

// Função de logout
async function logout() {
    try {
        const { error } = await supabase.auth.signOut();
        if (error) {
            console.error('Erro ao fazer logout:', error);
            alert('Erro ao fazer logout. Tente novamente.');
            return;
        }
        
        // Limpar dados de autenticação
        localStorage.removeItem('sb-ffyectkjlwgqzjgwhexy-auth-token');
        
        // Atualizar UI e recarregar
        updateUIForLoggedOutUser();
        setTimeout(() => {
            window.location.reload();
        }, 500);
        
    } catch (error) {
        console.error('Erro inesperado no logout:', error);
    }
}
</script>
</body>
</html>