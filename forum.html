<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <title>F칩rum - Guilda do Poker</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <style>
    :root{
      --bg:#121212;
      --bg-2:#1c1c1c;
      --bg-3:#2c2c2c;
      --gold:#ffcc00;
      --text:#f5f5f5;
    }

    *{box-sizing:border-box;margin:0;padding:0}

    body{
      font-family: Arial, sans-serif;
      background-color: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }

    header{
      background: var(--bg-2);
      padding: 20px;
      text-align: center;
      border-bottom: 2px solid var(--gold);
      position: relative;
      min-height: 80px;
    }

    nav{
      background: var(--bg-3);
      padding: 10px;
      text-align: center;
      position: relative;
    }
    
    .nav-container {
      max-width: 1000px;
      margin: 0 auto;
      display: flex;
      justify-content: center;
      position: relative;
    }
    
    .menu {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      list-style: none;
    }
    
    .menu li {
      margin: 0;
    }
    
    nav a{
      color: var(--gold);
      margin: 0 15px;
      text-decoration: none;
      font-weight: bold;
      transition: .2s;
      display: block;
      padding: 10px 0;
    }
    nav a:hover, nav a.active{ color:#ffffff; text-decoration: underline; }

    /* Menu Mobile */
    .menu-toggle {
      display: none;
      flex-direction: column;
      justify-content: space-around;
      width: 42px;
      height: 36px;
      background: transparent;
      border: none;
      cursor: pointer;
      padding: 0;
      position: absolute;
      right: 25px;
      top: 20px;
      z-index: 1001;
    }
    
    .menu-toggle span {
      width: 100%;
      height: 4px;
      background-color: var(--gold);
      border-radius: 3px;
      transition: all 0.3s linear;
    }

    .menu-toggle.active span:nth-child(1) {
      transform: rotate(45deg) translate(8px, 8px);
    }

    .menu-toggle.active span:nth-child(2) {
      opacity: 0;
    }

    .menu-toggle.active span:nth-child(3) {
      transform: rotate(-45deg) translate(7px, -7px);
    }

    main{
      max-width: 1000px;
      margin: 40px auto;
      padding: 0 20px;
    }
    
    .forum-header {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 25px;
      flex-wrap: wrap;
      gap: 15px;
    }
    
    .forum-header h1 {
      color: var(--gold);
      margin: 0;
      text-align: center;
    }
    
    .topico {
      background-color: var(--bg-2);
      padding: 20px;
      margin-bottom: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      transition: transform 0.2s, box-shadow 0.2s;
      border-left: 4px solid var(--gold);
    }
    
    .topico:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 12px rgba(0,0,0,0.4);
    }
    
    .topico a {
      text-decoration: none;
      color: var(--gold);
      font-weight: bold;
      font-size: 1.2rem;
      display: block;
      margin-bottom: 10px;
    }
    
    .topico a:hover {
      text-decoration: underline;
    }
    
    .descricao {
      color: #cccccc;
      margin-bottom: 15px;
    }
    
    .topico-meta {
      display: flex;
      justify-content: space-between;
      font-size: 0.9rem;
      color: #999;
      border-top: 1px solid #333;
      padding-top: 10px;
    }
    
    .carregando {
      text-align: center;
      padding: 30px;
      color: #ccc;
      font-size: 1.1rem;
    }
    
    .erro {
      background-color: #4a1c1c;
      color: #ff6b6b;
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
      text-align: center;
    }
    
    .sem-topicos {
      text-align: center;
      padding: 40px;
      background-color: var(--bg-2);
      border-radius: 8px;
      color: #999;
    }

    footer{
      text-align:center;
      padding:20px;
      background: var(--bg-2);
      margin-top:40px;
      border-top: 2px solid var(--gold);
      font-size:14px;
      color:#bbb;
    }
    footer div{
      display:flex;
      justify-content:center;
      flex-wrap:wrap;
      gap:10px;
      margin-top:10px;
    }
    footer img{ max-height:40px; height:auto; }

    .aviso18{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      margin-top:10px;
    }
    .icone18{
      background:red;
      color:white;
      font-weight:bold;
      font-size:14px;
      padding:4px 8px;
      border-radius:5px;
    }
    .aviso18 p{ margin:0; color:#ccc; }
    
    /* Media Queries para Responsividade */
    @media (max-width: 768px) {
      header {
        justify-content: center;
        padding: 15px;
        position: relative;
      }
      
      nav {
        padding: 0;
        background: transparent;
      }
      
      .menu-toggle {
        display: flex;
        width: 40px;
        height: 34px;
        right: 20px;
        top: 20px;
      }

      .menu {
        display: none;
        flex-direction: column;
        width: 100%;
        position: absolute;
        top: 100%;
        left: 0;
        background-color: var(--bg-3);
        z-index: 1000;
        box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        padding: 15px 0;
        border-top: 2px solid var(--gold);
      }

      .menu.active {
        display: flex;
      }

      .menu li {
        width: 100%;
        text-align: center;
      }

      nav a {
        margin: 0;
        padding: 16px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
        font-size: 1.1rem;
      }
      
      nav a:last-child {
        border-bottom: none;
      }
      
      .nav-container {
        padding: 0;
        justify-content: flex-start;
      }
      
      .forum-header {
        flex-direction: column;
        text-align: center;
      }
      
      .topico-meta {
        flex-direction: column;
        gap: 5px;
      }
    }
  </style>
</head>
<body>

  <header>
    <button class="menu-toggle" aria-label="Abrir menu">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </header>

  <nav>
    <div class="nav-container">
      <ul class="menu">
        <li><a href="index.html">Home</a></li>
        <li><a href="pppoker.html">PPPoker</a></li>
        <li><a href="suprema.html">Suprema Poker</a></li>
        <li><a href="torneios.html">Torneios</a></li>
        <li><a href="regrasdopoker.html">Regras do Poker</a></li>
        <li><a href="divulgacao.html">Divulga칞칚o</a></li>
        <li><a href="dicionario.html">Dicion치rio</a></li>
        <li><a href="blog.html">Blog</a></li>
        <li><a href="contato.html">Contato</a></li>
      </ul>
    </div>
  </nav>

  <main>
    <div class="forum-header">
      <h1>F칩rum da Guilda do Poker</h1>
    </div>
    
    <div id="lista-topicos">
      <p class="carregando">Carregando t칩picos...</p>
    </div>
  </main>

  <footer>
    <p>&copy; 2025 Guilda do Poker - Todos os direitos reservados</p>
    <div>
      <img src="logoguidapoker1.png" alt="Logo Guilda do Poker">
      <img src="logopppoker.png" alt="Logo PPPoker">
      <img src="logosupremapoker.png" alt="Logo Suprema Poker">
      <img src="logocaveirapoker.png" alt="Logo Caveira Poker">
    </div>
    <div class="aviso18">
      <span class="icone18">18+</span>
      <p>Proibido para menores de 18 anos. Jogue com responsabilidade.</p>
    </div>
    <div style="margin-top: 15px; text-align: center;">
      <a href="politica.html" style="color: #bbb; text-decoration: underline; margin: 0 10px;">Pol칤tica de Privacidade</a>
      <span style="color: #666;">|</span>
      <a href="termos.html" style="color: #bbb; text-decoration: underline; margin: 0 10px;">Termos e Condi칞칫es</a>
    </div>
  </footer>

  <script>
    // 游댐 Conex칚o com o Supabase
    const supabaseUrl = "https://ffyectkjlwgqzjgwhexy.supabase.co";
    const supabaseKey = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZmeWVjdGtqbHdncXpqZ3doZXh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYzMTAxNDAsImV4cCI6MjA3MTg4NjE0MH0.bWxnDQaJ6wILzK09TZ9B9ZdUdqVS7bukabBwZDmyvrE";
    const supabaseClient = supabase.createClient(supabaseUrl, supabaseKey);

    // 游릭 Carregar t칩picos
    async function carregarTopicos() {
      const container = document.getElementById("lista-topicos");

      const { data, error } = await supabaseClient
        .from("topicos")
        .select("*")
        .order("created_at", { ascending: false });

      if (error) {
        container.innerHTML = `<div class="erro">Erro ao carregar t칩picos: ${error.message}</div>`;
        console.error("Erro Supabase:", error);
        return;
      }

      if (!data || data.length === 0) {
        container.innerHTML = `
          <div class="sem-topicos">
            <h3>Nenhum t칩pico encontrado</h3>
            <p>Em breve teremos novidades no f칩rum!</p>
          </div>
        `;
        return;
      }

      container.innerHTML = "";
      data.forEach(t => {
        const div = document.createElement("div");
        div.className = "topico";
        
        // Formatar a data para exibi칞칚o amig치vel
        const dataCriacao = new Date(t.created_at);
        const dataFormatada = dataCriacao.toLocaleDateString('pt-BR', {
          day: '2-digit',
          month: '2-digit',
          year: 'numeric',
          hour: '2-digit',
          minute: '2-digit'
        });
        
        div.innerHTML = `
          <a href="topico.html?id=${t.id}">${t.titulo}</a>
          <p class="descricao">${t.descricao || "Sem descri칞칚o"}</p>
          <div class="topico-meta">
            <span>Por: ${t.autor || "An칪nimo"}</span>
            <span>Criado em: ${dataFormatada}</span>
          </div>
        `;
        container.appendChild(div);
      });
    }

    // Menu mobile toggle
    const menuToggle = document.querySelector('.menu-toggle');
    const menu = document.querySelector('.menu');
    
    menuToggle.addEventListener('click', function(e) {
      e.stopPropagation();
      menu.classList.toggle('active');
      menuToggle.classList.toggle('active');
    });
    
    // Fechar menu ao clicar em um link (em dispositivos m칩veis)
    const menuLinks = document.querySelectorAll('.menu a');
    menuLinks.forEach(link => {
      link.addEventListener('click', function() {
        if (window.innerWidth <= 768) {
          menu.classList.remove('active');
          menuToggle.classList.remove('active');
        }
      });
    });

    // Fechar o menu ao clicar fora dele
    document.addEventListener('click', function(event) {
      if (window.innerWidth <= 768 && menu.classList.contains('active')) {
        if (!menu.contains(event.target) && !menuToggle.contains(event.target)) {
          menu.classList.remove('active');
          menuToggle.classList.remove('active');
        }
      }
    });

    // Carregar os t칩picos quando a p치gina estiver pronta
    document.addEventListener('DOMContentLoaded', carregarTopicos);
  </script>

</body>
</html>